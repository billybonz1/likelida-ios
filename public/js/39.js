"use strict";(globalThis["webpackChunklikelida_project"]=globalThis["webpackChunklikelida_project"]||[]).push([[39],{2136:(t,s,e)=>{e.d(s,{J:()=>a});var n=e(3746),i=e(1569);const a=(0,n.Q_)("posts",{state:()=>({posts:null,ingredients:null,postSingle:null,currentUser:null}),getters:{getPosts:t=>(console.log("state.posts >>"),console.log(t.posts),t.posts),getIngredients:t=>(console.log("state.ingredients >>"),console.log(t.ingredients),t.ingredients),getPostSingle:t=>(console.log("state.postSingle >>"),console.log(t.postSingle),t.postSingle),getCurrentUser:t=>t.currentUser},actions:{setCurrentUser(t){this.currentUser=t},async loadAllPosts(){try{const t=await i.server.get("posts");return this.posts=t.data,!0}catch(t){if(t)throw t}},async loadPosts(t){try{const s=await i.server.get("posts-list",{params:{page:t}});return this.posts=s.data,!0}catch(s){if(s)throw s}},async loadAllIngredients(){try{const t=await i.server.get("ingredients");return this.ingredients=t.data,!0}catch(t){if(t)throw t}},async loadSearchByIngredients(t){try{const s=await i.server.get("search-by-ingredients?ids="+t);return this.ingredients=s.data.ingredients,this.posts=s.data.posts,!0}catch(s){if(s)throw s}},async loadSinglePost(t){try{const s=await i.server.get("posts/"+t);return this.postSingle=s.data.data,!0}catch(s){if(s)throw s}}},persist:!0})},6039:(t,s,e)=>{e.r(s),e.d(s,{default:()=>R});var n=e(9835),i=e(6970),a=e(2136),r=e(499),o=e(8339);const l={class:"mx-auto max-w-4xl mb-5 mt-8"},c={class:"mx-8 my-5 text-4xl font-black"},g={class:"grid grid-cols-3 gap-4"},d=["onClick"],p={class:"text-yellow"},u=(0,n._)("div",{class:"q-mt-md"},"Loading...",-1),A=["onClick"],h={__name:"SearchPage",setup(t){const s=(0,o.yj)(),e=(0,o.tv)(),h=(0,a.J)(),v=(0,r.iH)([]),m=(0,r.iH)([]);let y=0;function E(t){e.push({name:"recipesId",params:{id:t}})}function w(){return y++,"r-40-"+y%4}return(0,n.bv)((async()=>{v.value=h.getPosts,console.log(v),await h.loadSearchByIngredients(s.params.id),h.getIngredients&&(m.value=h.getIngredients),h.getPosts&&(v.value=h.getPosts)})),(t,s)=>{const e=(0,n.up)("q-spinner-ios"),a=(0,n.up)("q-img");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("div",c," Search by ingredients ("+(0,i.zw)(m.value.map((t=>t.name)).join(", "))+"): ",1),(0,n._)("div",g,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(v.value,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.id},[(0,n._)("div",{onClick:s=>E(t.id)},[(0,n.Wm)(a,{alt:t.name_ru,src:t.image,fit:"fill","placeholder-src":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWBAMAAADOL2zRAAAAG1BMVEXMzMyWlpaqqqq3t7fFxcW+vr6xsbGjo6OcnJyLKnDGAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABAElEQVRoge3SMW+DMBiE4YsxJqMJtHOTITPeOsLQnaodGImEUMZEkZhRUqn92f0MaTubtfeMh/QGHANEREREREREREREtIJJ0xbH299kp8l8FaGtLdTQ19HjofxZlJ0m1+eBKZcikd9PWtXC5DoDotRO04B9YOvFIXmXLy2jEbiqE6Df7DTleA5socLqvEFVxtJyrpZFWz/pHM2CVte0lS8g2eDe6prOyqPglhzROL+Xye4tmT4WvRcQ2/m81p+/rdguOi8Hc5L/8Qk4vhZzy08DduGt9eVQyP2qoTM1zi0/uf4hvBWf5c77e69Gf798y08L7j0RERERERERERH9P99ZpSVRivB/rgAAAABJRU5ErkJggg==",class:(0,i.C_)(["cursor-pointer",w()]),onClick:s=>E(t.id)},{loading:(0,n.w5)((()=>[(0,n._)("div",p,[(0,n.Wm)(e),u])])),_:2},1032,["alt","src","class","onClick"]),(0,n._)("div",{class:"text-bold cursor-pointer",onClick:s=>E(t.id)},(0,i.zw)(t.name_ru),9,A)],8,d)])))),128))])])}}};var v=e(335),m=e(8359),y=e(9984),E=e.n(y);const w=h,R=w;E()(h,"components",{QImg:v.Z,QSpinnerIos:m.Z})}}]);