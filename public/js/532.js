"use strict";(globalThis["webpackChunklikelida_project"]=globalThis["webpackChunklikelida_project"]||[]).push([[532],{2136:(t,e,s)=>{s.d(e,{J:()=>a});var r=s(3746),o=s(1569);const a=(0,r.Q_)("posts",{state:()=>({posts:null,ingredients:null,postSingle:null,currentUser:null}),getters:{getPosts:t=>(console.log("state.posts >>"),console.log(t.posts),t.posts),getIngredients:t=>(console.log("state.ingredients >>"),console.log(t.ingredients),t.ingredients),getPostSingle:t=>(console.log("state.postSingle >>"),console.log(t.postSingle),t.postSingle),getCurrentUser:t=>t.currentUser},actions:{setCurrentUser(t){this.currentUser=t},async loadAllPosts(){try{const t=await o.server.get("posts");return this.posts=t.data,!0}catch(t){if(t)throw t}},async loadPosts(t){try{const e=await o.server.get("posts-list",{params:{page:t}});return this.posts=e.data,!0}catch(e){if(e)throw e}},async loadAllIngredients(){try{const t=await o.server.get("ingredients");return this.ingredients=t.data,!0}catch(t){if(t)throw t}},async loadSearchByIngredients(t){try{const e=await o.server.get("search-by-ingredients?ids="+t);return this.ingredients=e.data.ingredients,this.posts=e.data.posts,!0}catch(e){if(e)throw e}},async loadSinglePost(t){try{const e=await o.server.get("posts/"+t);return this.postSingle=e.data.data,!0}catch(e){if(e)throw e}}},persist:!0})},2532:(t,e,s)=>{s.r(e),s.d(e,{default:()=>_});var r=s(9835);const o={class:"font-mono"},a=(0,r._)("img",{src:"/images/menu_fridge.png"},null,-1),n=(0,r._)("img",{src:"/images/menu_recipes.png"},null,-1),i=(0,r.Uk)(" Logout ");function l(t,e,s,l,u,c){const d=(0,r.up)("q-avatar"),g=(0,r.up)("q-btn"),h=(0,r.up)("q-btn-group"),p=(0,r.up)("q-footer"),m=(0,r.up)("router-view"),w=(0,r.up)("q-page-container"),f=(0,r.up)("q-layout");return(0,r.wg)(),(0,r.iD)("div",o,[(0,r.Wm)(f,{view:"hhh LpR fFf"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{class:"text-primary vertical-middle text-center q-mt-md q-pb-sm q-pt-sm",style:{background:"none"}},{default:(0,r.w5)((()=>[(0,r.Wm)(h,{rounded:"",class:"bg-white fly-menu"},{default:(0,r.w5)((()=>[(0,r.Wm)(g,{rounded:"",size:"lg",to:"/fridge"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{size:"30px"},{default:(0,r.w5)((()=>[a])),_:1})])),_:1}),(0,r.Wm)(g,{rounded:"",size:"lg",to:"/recipes"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{size:"30px"},{default:(0,r.w5)((()=>[n])),_:1})])),_:1}),u.user&&u.user.email?((0,r.wg)(),(0,r.j4)(g,{key:0,onClick:e[0]||(e[0]=t=>c.logout())},{default:(0,r.w5)((()=>[i])),_:1})):(0,r.kq)("",!0)])),_:1})])),_:1}),(0,r.Wm)(w,null,{default:(0,r.w5)((()=>[(0,r.Wm)(m)])),_:1})])),_:1})])}var u=s(2136);const c={data(){return{user:{},store:null,server:null}},mounted(){this.server=this.$axios.create({baseURL:"https://likelida.com/api"}),this.checkAuth()},methods:{async logout(){const t=await this.server.post("logout",{},{headers:{"Access-Control-Allow-Origin":"*"}});t.data.status?(this.store.setCurrentUser(null),localStorage.removeItem("token"),this.$axios.defaults.headers.common.Authorization="",this.user={},this.$router.push("/")):alert("Error(")},async checkAuth(){this.store=(0,u.J)();const t=await this.server.post("isLogin",{},{headers:{"Access-Control-Allow-Origin":"*"}});t.data.isLogin&&this.store.setCurrentUser(t.data.user),this.user=this.store.getCurrentUser}},watch:{$route(t,e){this.server=this.$axios.create({baseURL:"https://likelida.com/api"}),this.checkAuth()}}};var d=s(1639),g=s(7605),h=s(1378),p=s(7236),m=s(9379),w=s(1357),f=s(2133),v=s(9984),y=s.n(v);const k=(0,d.Z)(c,[["render",l]]),_=k;y()(c,"components",{QLayout:g.Z,QFooter:h.Z,QBtnGroup:p.Z,QBtn:m.Z,QAvatar:w.Z,QPageContainer:f.Z})}}]);